# å­¦ç”Ÿæ•°æ®åˆ†æç³»ç»Ÿ - æ•°æ®æ¨¡å‹è®¾è®¡æ–‡æ¡£

## 1. æ¦‚è¿°

### 1.1 è®¾è®¡ç›®æ ‡

æœ¬æ•°æ®æ¨¡å‹æ—¨åœ¨ä¸ºä¸­å°å­¦æ•™è‚²åœºæ™¯ï¼ˆå•æ ¡éƒ¨ç½²ï¼‰æä¾›ä¸€å¥— AI é©±åŠ¨çš„æ•°æ®åˆ†æè§£å†³æ–¹æ¡ˆï¼Œæ ¸å¿ƒç›®æ ‡æ˜¯ï¼š

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                              æ ¸å¿ƒç›®æ ‡                                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚  ğŸ¯ ååŠ©è€å¸ˆå®Œæˆå¯¹å­¦ç”Ÿçš„ä¸ªæ€§åŒ–æ•™è‚²                                            â”‚
â”‚      â”œâ”€â”€ ç²¾å‡†è¯†åˆ«å­¦ç”Ÿé•¿çŸ­æ¿                                                  â”‚
â”‚      â”œâ”€â”€ æ™ºèƒ½ç”Ÿæˆå­¦ä¹ å»ºè®®                                                    â”‚
â”‚      â””â”€â”€ è¿½è¸ªå­¦ç”Ÿæˆé•¿è½¨è¿¹                                                    â”‚
â”‚                                                                             â”‚
â”‚  ğŸ‘€ è®©è€å¸ˆå’Œå®¶é•¿åŠæ—¶æŒæ¡å­¦ç”Ÿçš„æ•™è‚²æƒ…å†µ                                         â”‚
â”‚      â”œâ”€â”€ å¤šç»´åº¦å­¦ç”Ÿç”»åƒ                                                      â”‚
â”‚      â”œâ”€â”€ å®æ—¶æˆç»©åŠ¨æ€                                                        â”‚
â”‚      â””â”€â”€ ç»¼åˆç´ è´¨å‘å±•                                                        â”‚
â”‚                                                                             â”‚
â”‚  âš ï¸ åŠæ—¶å‘ç°é—®é¢˜ï¼Œå¹¶é‡‡ç”¨åˆé€‚çš„æ–¹æ¡ˆ                                            â”‚
â”‚      â”œâ”€â”€ æˆç»©å¼‚å¸¸é¢„è­¦                                                        â”‚
â”‚      â”œâ”€â”€ è€ƒå‹¤å¼‚å¸¸æé†’                                                        â”‚
â”‚      â””â”€â”€ è¡Œä¸ºé—®é¢˜è¿½è¸ª                                                        â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 1.2 ç›®æ ‡ç”¨æˆ·

| ç”¨æˆ·è§’è‰² | æ ¸å¿ƒéœ€æ±‚ | ä½¿ç”¨åœºæ™¯ |
|---------|---------|---------|
| **ç­ä¸»ä»»** | å…¨é¢äº†è§£ç­çº§å­¦ç”Ÿ | ç­çº§ç®¡ç†ã€å®¶é•¿æ²Ÿé€šã€æœŸæœ«è¯„è¯­ |
| **å­¦ç§‘è€å¸ˆ** | æœ¬ç§‘æˆç»©åˆ†æ | æ•™å­¦è¯„ä¼°ã€çŸ¥è¯†ç‚¹æŒæ¡åˆ†æ |
| **å­¦æ ¡ç®¡ç†** | å…¨æ ¡æ•°æ®æ¦‚è§ˆ | æ•™å­¦è´¨é‡ç›‘æ§ã€å†³ç­–æ”¯æŒ |

### 1.3 ç³»ç»Ÿç‰¹ç‚¹

- **AIé©±åŠ¨**ï¼šæ”¯æŒè‡ªç„¶è¯­è¨€æŸ¥è¯¢ï¼Œé™ä½ä½¿ç”¨é—¨æ§›ï¼ˆæ ¸å¿ƒå–ç‚¹ï¼‰
- **å¤šç»´åº¦åˆ†æ**ï¼šæˆç»©ã€è€ƒå‹¤ã€è¡Œä¸ºã€ç»¼åˆç´ è´¨å…¨æ–¹ä½è¦†ç›–
- **ä¸ªæ€§åŒ–å»ºè®®**ï¼šåŸºäºæ•°æ®è‡ªåŠ¨ç”Ÿæˆå­¦ä¹ å»ºè®®
- **é¢„è­¦æœºåˆ¶**ï¼šåŠæ—¶å‘ç°å¼‚å¸¸æƒ…å†µå¹¶æé†’

### 1.4 è®¾è®¡åŸåˆ™

- **MVP ä¼˜å…ˆ**ï¼šä¸€æœŸèšç„¦ AI åˆ†ææ ¸å¿ƒé“¾è·¯ï¼ˆæˆç»© â†’ çŸ¥è¯†ç‚¹ â†’ ç”»åƒ â†’ å»ºè®®ï¼‰ï¼Œ16 å¼ è¡¨
- **èšåˆè¡¨æ˜ç¡®æ ‡è¯†**ï¼šç”± fact æ•°æ®è¡ç”Ÿçš„èšåˆ/ç¼“å­˜è¡¨ä½¿ç”¨ `agg_` å‰ç¼€ï¼ŒåŒºåˆ«äºä¸»æ•°æ®ç»´åº¦
- **æ’åå®æ—¶è®¡ç®—**ï¼šæ’åç±»æŒ‡æ ‡é€šè¿‡ QM çª—å£å‡½æ•°å®æ—¶è®¡ç®—ï¼Œä¸å­˜å‚¨åœ¨äº‹å®è¡¨ä¸­
- **PK ç»Ÿä¸€ BIGINT**ï¼šå…¼é¡¾å”¯ä¸€æ€§ã€æ€§èƒ½å’Œå¯è¯»æ€§

---

## 2. æ•´ä½“æ¶æ„

### 2.1 æ•°æ®æ¨¡å‹åˆ†å±‚æ¶æ„

```mermaid
graph TB
    subgraph åº”ç”¨å±‚
        A1[æˆç»©åˆ†æ]
        A2[å­¦ç”Ÿç”»åƒ]
        A3[é¢„è­¦æé†’]
        A4[å­¦ä¹ å»ºè®®]
        A5[ç»¼åˆç´ è´¨è¯„ä»·]
    end

    subgraph ä¸šåŠ¡æ•°æ®å±‚
        B1[æˆç»©æ•°æ®]
        B2[è€ƒå‹¤æ•°æ®]
        B3[ä½œä¸šæ•°æ®]
        B4[å¥–æƒ©æ•°æ®]
        B5[ä½“æµ‹æ•°æ®]
        B6[æ²Ÿé€šè®°å½•]
    end

    subgraph ç»´åº¦å±‚
        C1[å­¦ç”Ÿç»´åº¦]
        C2[ç­çº§ç»´åº¦]
        C3[ç§‘ç›®ç»´åº¦]
        C4[è€ƒè¯•ç»´åº¦]
        C5[çŸ¥è¯†ç‚¹ç»´åº¦]
        C6[æ—¶é—´ç»´åº¦]
    end

    subgraph æƒé™å±‚
        D1[ç”¨æˆ·ç®¡ç†]
        D2[è§’è‰²æƒé™]
        D3[æ•°æ®èŒƒå›´]
    end

    A1 --> B1
    A2 --> B1
    A2 --> B4
    A2 --> B5
    A3 --> B2
    A3 --> B4
    A4 --> B1
    A5 --> B1
    A5 --> B5

    B1 --> C1
    B1 --> C2
    B1 --> C3
    B1 --> C4
    B2 --> C6
    B3 --> C6

    D1 --> D2
    D2 --> D3
    D3 --> C2
```

### 2.2 æ•°æ®åŸŸåˆ’åˆ†

```mermaid
graph LR
    subgraph æƒé™ç»„ç»‡åŸŸ
        U[dim_user]
        T[dim_teacher]
        TA[fact_teacher_assignment]
    end

    subgraph å­¦ç”Ÿç­çº§åŸŸ
        S[dim_student]
        G[dim_grade]
        C[dim_class]
    end

    subgraph æ—¶é—´åŸŸ
        SEM[dim_semester]
        DD[dim_date]
    end

    subgraph ç§‘ç›®è€ƒè¯•åŸŸ
        SUB[dim_subject]
        E[dim_exam]
        KP[dim_knowledge_point]
        KPC[knowledge_point_closure]
    end

    subgraph æˆç»©åˆ†æåŸŸ
        FS[fact_score]
        SP[agg_student_profile]
        FLA[fact_learning_advice]
    end

    subgraph è€ƒå‹¤åŸŸ
        FA[fact_attendance]
    end
```

> äºŒæœŸ/ä¸‰æœŸæ–°å¢çš„åŸŸï¼ˆè¯•å·åˆ†æåŸŸã€ä½œä¸šåŸŸã€ä½“æµ‹è‰ºæœ¯åŸŸã€ç»¼åˆç´ è´¨åŸŸã€ç­çº§ç®¡ç†åŸŸï¼‰è§ç‰ˆæœ¬è§„åˆ’ç« èŠ‚ã€‚

---

## 3. ERå›¾

### 3.1 ä¸€æœŸæ ¸å¿ƒå®ä½“å…³ç³»å›¾

```mermaid
erDiagram
    dim_user ||--o| dim_teacher : "å…³è”"
    dim_teacher ||--o{ fact_teacher_assignment : "ä»»è¯¾"
    fact_teacher_assignment }o--|| dim_class : "ä»»æ•™ç­çº§"
    fact_teacher_assignment }o--o| dim_subject : "ä»»æ•™ç§‘ç›®"
    fact_teacher_assignment }o--|| dim_semester : "å­¦æœŸ"

    dim_class }o--|| dim_grade : "æ‰€å±å¹´çº§"
    dim_student }o--|| dim_class : "æ‰€å±ç­çº§"

    dim_exam }o--|| dim_semester : "æ‰€å±å­¦æœŸ"

    dim_knowledge_point }o--|| dim_subject : "æ‰€å±ç§‘ç›®"
    dim_knowledge_point }o--o| dim_knowledge_point : "çˆ¶èŠ‚ç‚¹"
    knowledge_point_closure }o--|| dim_knowledge_point : "ç¥–å…ˆ"
    knowledge_point_closure }o--|| dim_knowledge_point : "åä»£"

    fact_score }o--|| dim_student : "å­¦ç”Ÿ"
    fact_score }o--|| dim_class : "ç­çº§"
    fact_score }o--|| dim_subject : "ç§‘ç›®"
    fact_score }o--|| dim_exam : "è€ƒè¯•"

    fact_attendance }o--|| dim_student : "å­¦ç”Ÿ"
    fact_attendance }o--|| dim_class : "ç­çº§"
    fact_attendance }o--|| dim_date : "æ—¥æœŸ"

    agg_student_profile ||--|| dim_student : "ç”»åƒ"

    fact_learning_advice }o--|| dim_student : "å­¦ç”Ÿ"
    fact_learning_advice }o--o| dim_subject : "ç§‘ç›®"
    fact_learning_advice }o--o| dim_knowledge_point : "çŸ¥è¯†ç‚¹"
```

### 3.2 æƒé™æ¨¡å‹å…³ç³»å›¾

```mermaid
erDiagram
    dim_user {
        bigint user_id PK "ç”¨æˆ·ID"
        varchar user_name UK "ç”¨æˆ·å"
        varchar password_hash "å¯†ç å“ˆå¸Œ"
        varchar user_type "ç”¨æˆ·ç±»å‹"
        bigint teacher_id FK "å…³è”æ•™å¸ˆID"
        varchar status "çŠ¶æ€"
    }

    dim_teacher {
        bigint teacher_id PK "æ•™å¸ˆID"
        varchar teacher_no "å·¥å·"
        varchar teacher_name "å§“å"
        char gender "æ€§åˆ«"
        varchar phone "ç”µè¯"
    }

    fact_teacher_assignment {
        bigint assignment_id PK "ä»»è¯¾ID"
        bigint teacher_id FK "æ•™å¸ˆID"
        bigint class_id FK "ç­çº§ID"
        bigint subject_id FK "ç§‘ç›®ID"
        boolean is_head_teacher "æ˜¯å¦ç­ä¸»ä»»"
        bigint semester_id FK "å­¦æœŸID"
        boolean is_current "æ˜¯å¦å½“å‰"
    }

    dim_class {
        bigint class_id PK "ç­çº§ID"
        varchar class_name "ç­çº§åç§°"
        bigint grade_id FK "å¹´çº§ID"
        varchar classroom "æ•™å®¤"
    }

    dim_subject {
        bigint subject_id PK "ç§‘ç›®ID"
        varchar subject_name "ç§‘ç›®åç§°"
        varchar subject_type "ç§‘ç›®ç±»å‹"
        int full_score "æ»¡åˆ†"
    }

    dim_user ||--o| dim_teacher : "å…³è”"
    dim_teacher ||--o{ fact_teacher_assignment : "ä»»è¯¾"
    fact_teacher_assignment }o--|| dim_class : "ç­çº§"
    fact_teacher_assignment }o--o| dim_subject : "ç§‘ç›®"
```

### 3.3 æˆç»©åˆ†æåŸŸå…³ç³»å›¾

```mermaid
erDiagram
    fact_score {
        bigint score_id PK "æˆç»©ID"
        bigint student_id FK "å­¦ç”ŸID"
        bigint class_id FK "ç­çº§ID"
        bigint subject_id FK "ç§‘ç›®ID"
        bigint exam_id FK "è€ƒè¯•ID"
        decimal score "å¾—åˆ†"
        char score_level "æˆç»©ç­‰çº§"
    }

    agg_student_profile {
        bigint profile_id PK "ç”»åƒID"
        bigint student_id FK "å­¦ç”ŸID"
        varchar overall_level "ç»¼åˆç­‰çº§"
        varchar score_trend "æˆç»©è¶‹åŠ¿"
        text ai_summary "AIç”»åƒæ‘˜è¦"
        timestamp refreshed_at "æœ€ååˆ·æ–°æ—¶é—´"
    }

    fact_learning_advice {
        bigint advice_id PK "å»ºè®®ID"
        bigint student_id FK "å­¦ç”ŸID"
        bigint subject_id FK "ç§‘ç›®ID"
        bigint point_id FK "çŸ¥è¯†ç‚¹ID"
        varchar advice_type "å»ºè®®ç±»å‹"
        varchar advice_level "ç´§æ€¥ç¨‹åº¦"
        text advice_content "å»ºè®®å†…å®¹"
        varchar status "çŠ¶æ€"
    }

    fact_score }o--|| agg_student_profile : "ç”»åƒåˆ·æ–°"
    agg_student_profile ||--o{ fact_learning_advice : "ç”Ÿæˆå»ºè®®"
```

---

## 4. æ•°æ®è¡¨è¯¦ç»†è®¾è®¡

### 4.1 æƒé™ç»„ç»‡åŸŸ

#### 4.1.1 ç”¨æˆ·è¡¨ (dim_user)

| å­—æ®µå | ç±»å‹ | å¿…å¡« | è¯´æ˜ |
|--------|------|------|------|
| user_id | BIGINT | æ˜¯ | ç”¨æˆ·IDï¼Œä¸»é”® |
| user_name | VARCHAR(50) | æ˜¯ | ç”¨æˆ·åï¼Œå”¯ä¸€ |
| password_hash | VARCHAR(200) | æ˜¯ | å¯†ç å“ˆå¸Œ |
| user_type | VARCHAR(20) | æ˜¯ | ç”¨æˆ·ç±»å‹ï¼šadmin/teacher |
| teacher_id | BIGINT | å¦ | å…³è”æ•™å¸ˆID |
| status | VARCHAR(20) | æ˜¯ | çŠ¶æ€ï¼šactive/inactive |
| last_login_at | TIMESTAMP | å¦ | æœ€åç™»å½•æ—¶é—´ |
| created_at | TIMESTAMP | æ˜¯ | åˆ›å»ºæ—¶é—´ |

#### 4.1.2 æ•™å¸ˆè¡¨ (dim_teacher)

| å­—æ®µå | ç±»å‹ | å¿…å¡« | è¯´æ˜ |
|--------|------|------|------|
| teacher_id | BIGINT | æ˜¯ | æ•™å¸ˆIDï¼Œä¸»é”® |
| teacher_no | VARCHAR(20) | å¦ | å·¥å· |
| teacher_name | VARCHAR(50) | æ˜¯ | å§“å |
| gender | CHAR(1) | å¦ | æ€§åˆ«ï¼šM/F |
| phone | VARCHAR(20) | å¦ | è”ç³»ç”µè¯ |
| created_at | TIMESTAMP | æ˜¯ | åˆ›å»ºæ—¶é—´ |

#### 4.1.3 æ•™å¸ˆä»»è¯¾å…³ç³»è¡¨ (fact_teacher_assignment)

| å­—æ®µå | ç±»å‹ | å¿…å¡« | è¯´æ˜ |
|--------|------|------|------|
| assignment_id | BIGINT | æ˜¯ | ä»»è¯¾IDï¼Œä¸»é”® |
| teacher_id | BIGINT | æ˜¯ | æ•™å¸ˆID |
| class_id | BIGINT | æ˜¯ | ç­çº§ID |
| subject_id | BIGINT | å¦ | ç§‘ç›®IDï¼ˆç­ä¸»ä»»å¯ä¸ºç©ºï¼‰ |
| is_head_teacher | BOOLEAN | æ˜¯ | æ˜¯å¦ç­ä¸»ä»» |
| semester_id | BIGINT | æ˜¯ | å­¦æœŸID |
| is_current | BOOLEAN | æ˜¯ | æ˜¯å¦å½“å‰ |
| created_at | TIMESTAMP | æ˜¯ | åˆ›å»ºæ—¶é—´ |

> ç§»é™¤ `school_year` å­—æ®µï¼Œå­¦å¹´ä¿¡æ¯é€šè¿‡ `semester_id` å…³è” `dim_semester` è·å–ã€‚

---

### 4.2 æ—¶é—´åŸŸ

#### 4.2.1 å­¦æœŸè¡¨ (dim_semester)

| å­—æ®µå | ç±»å‹ | å¿…å¡« | è¯´æ˜ |
|--------|------|------|------|
| semester_id | BIGINT | æ˜¯ | å­¦æœŸIDï¼Œä¸»é”® |
| semester_name | VARCHAR(50) | æ˜¯ | å­¦æœŸåç§°ï¼Œå¦‚"2025-2026å­¦å¹´ç¬¬ä¸€å­¦æœŸ" |
| school_year | VARCHAR(20) | æ˜¯ | å­¦å¹´ï¼Œå¦‚"2025-2026" |
| semester_type | VARCHAR(10) | æ˜¯ | å­¦æœŸç±»å‹ï¼šfirst/second |
| start_date | DATE | æ˜¯ | å¼€å§‹æ—¥æœŸ |
| end_date | DATE | æ˜¯ | ç»“æŸæ—¥æœŸ |
| is_current | BOOLEAN | æ˜¯ | æ˜¯å¦å½“å‰å­¦æœŸ |
| created_at | TIMESTAMP | æ˜¯ | åˆ›å»ºæ—¶é—´ |

#### 4.2.2 æ—¥æœŸç»´åº¦è¡¨ (dim_date)

| å­—æ®µå | ç±»å‹ | å¿…å¡« | è¯´æ˜ |
|--------|------|------|------|
| date_id | VARCHAR(10) | æ˜¯ | æ—¥æœŸIDï¼Œä¸»é”®ï¼Œæ ¼å¼ï¼š2024-01-15 |
| date_value | DATE | æ˜¯ | æ—¥æœŸå€¼ |
| year | INT | æ˜¯ | å¹´ |
| month | INT | æ˜¯ | æœˆ |
| day | INT | æ˜¯ | æ—¥ |
| week_day | INT | æ˜¯ | å‘¨å‡  1-7 |
| week_of_year | INT | å¦ | å¹´ä¸­ç¬¬å‡ å‘¨ |
| semester_id | BIGINT | å¦ | å­¦æœŸID |
| is_school_day | BOOLEAN | æ˜¯ | æ˜¯å¦æ•™å­¦æ—¥ |
| created_at | TIMESTAMP | æ˜¯ | åˆ›å»ºæ—¶é—´ |

---

### 4.3 å­¦ç”Ÿç­çº§åŸŸ

#### 4.3.1 å­¦ç”Ÿè¡¨ (dim_student)

| å­—æ®µå | ç±»å‹ | å¿…å¡« | è¯´æ˜ |
|--------|------|------|------|
| student_id | BIGINT | æ˜¯ | å­¦ç”ŸIDï¼Œä¸»é”® |
| student_no | VARCHAR(20) | å¦ | å­¦å· |
| student_name | VARCHAR(50) | æ˜¯ | å§“å |
| gender | CHAR(1) | å¦ | æ€§åˆ«ï¼šM/F |
| birth_date | DATE | å¦ | å‡ºç”Ÿæ—¥æœŸ |
| class_id | BIGINT | æ˜¯ | æ‰€å±ç­çº§ID |
| enroll_date | DATE | å¦ | å…¥å­¦æ—¥æœŸ |
| phone | VARCHAR(20) | å¦ | è”ç³»ç”µè¯ |
| student_status | VARCHAR(20) | æ˜¯ | çŠ¶æ€ï¼šactive/graduated/transferred |
| created_at | TIMESTAMP | æ˜¯ | åˆ›å»ºæ—¶é—´ |

> ç§»é™¤ä½é¢‘å­—æ®µ `address`ã€`admission_type`ã€`political_status`ã€`boarding_status`ï¼ŒæŒ‰éœ€åœ¨äºŒæœŸæ‰©å±•ã€‚

#### 4.3.2 å¹´çº§è¡¨ (dim_grade)

| å­—æ®µå | ç±»å‹ | å¿…å¡« | è¯´æ˜ |
|--------|------|------|------|
| grade_id | BIGINT | æ˜¯ | å¹´çº§IDï¼Œä¸»é”® |
| grade_name | VARCHAR(50) | æ˜¯ | å¹´çº§åç§° |
| grade_level | INT | å¦ | å¹´çº§åºå·ï¼š1-6å°å­¦ï¼Œ7-9åˆä¸­ |
| stage | VARCHAR(20) | æ˜¯ | å­¦æ®µï¼šprimary/junior |
| created_at | TIMESTAMP | æ˜¯ | åˆ›å»ºæ—¶é—´ |

#### 4.3.3 ç­çº§è¡¨ (dim_class)

| å­—æ®µå | ç±»å‹ | å¿…å¡« | è¯´æ˜ |
|--------|------|------|------|
| class_id | BIGINT | æ˜¯ | ç­çº§IDï¼Œä¸»é”® |
| class_name | VARCHAR(50) | æ˜¯ | ç­çº§åç§° |
| grade_id | BIGINT | æ˜¯ | å¹´çº§ID |
| classroom | VARCHAR(50) | å¦ | æ•™å®¤ |
| student_count | INT | å¦ | ç­çº§äººæ•° |
| created_at | TIMESTAMP | æ˜¯ | åˆ›å»ºæ—¶é—´ |

> ç§»é™¤ `class_type` å­—æ®µï¼Œå•æ ¡åœºæ™¯ä¸‹ç­çº§åˆ†ç±»éœ€æ±‚å¼±ã€‚

---

### 4.4 ç§‘ç›®è€ƒè¯•åŸŸ

#### 4.4.1 ç§‘ç›®è¡¨ (dim_subject)

| å­—æ®µå | ç±»å‹ | å¿…å¡« | è¯´æ˜ |
|--------|------|------|------|
| subject_id | BIGINT | æ˜¯ | ç§‘ç›®IDï¼Œä¸»é”® |
| subject_name | VARCHAR(50) | æ˜¯ | ç§‘ç›®åç§° |
| subject_type | VARCHAR(20) | æ˜¯ | ç§‘ç›®ç±»å‹ï¼šmain/minor |
| full_score | INT | æ˜¯ | æ»¡åˆ†ï¼Œé»˜è®¤100 |
| pass_score | INT | æ˜¯ | åŠæ ¼åˆ†ï¼Œé»˜è®¤60 |
| excellent_score | INT | æ˜¯ | ä¼˜ç§€åˆ†ï¼Œé»˜è®¤85 |
| is_exam_subject | BOOLEAN | æ˜¯ | æ˜¯å¦è€ƒè¯•ç§‘ç›® |
| sort_order | INT | å¦ | æ’åº |
| created_at | TIMESTAMP | æ˜¯ | åˆ›å»ºæ—¶é—´ |

> ç§»é™¤ `weight` å­—æ®µï¼Œç§‘ç›®æƒé‡æ˜¯æŸ¥è¯¢æ¨¡å‹å±‚çš„é…ç½®ï¼Œä¸å±äºæ•°æ®æ¨¡å‹ã€‚

#### 4.4.2 è€ƒè¯•è¡¨ (dim_exam)

| å­—æ®µå | ç±»å‹ | å¿…å¡« | è¯´æ˜ |
|--------|------|------|------|
| exam_id | BIGINT | æ˜¯ | è€ƒè¯•IDï¼Œä¸»é”® |
| exam_name | VARCHAR(100) | æ˜¯ | è€ƒè¯•åç§° |
| exam_type | VARCHAR(20) | æ˜¯ | è€ƒè¯•ç±»å‹ï¼šdaily/unit/midterm/final |
| exam_date | DATE | æ˜¯ | è€ƒè¯•æ—¥æœŸ |
| semester_id | BIGINT | æ˜¯ | å­¦æœŸID |
| created_at | TIMESTAMP | æ˜¯ | åˆ›å»ºæ—¶é—´ |

> ç§»é™¤ `school_year`ã€`semester_name` å†—ä½™å­—æ®µï¼Œé€šè¿‡ `semester_id` å…³è”è·å–ã€‚

#### 4.4.3 çŸ¥è¯†ç‚¹è¡¨ (dim_knowledge_point)

| å­—æ®µå | ç±»å‹ | å¿…å¡« | è¯´æ˜ |
|--------|------|------|------|
| point_id | BIGINT | æ˜¯ | çŸ¥è¯†ç‚¹IDï¼Œä¸»é”® |
| point_code | VARCHAR(50) | å¦ | çŸ¥è¯†ç‚¹ç¼–ç  |
| point_name | VARCHAR(100) | æ˜¯ | çŸ¥è¯†ç‚¹åç§° |
| subject_id | BIGINT | æ˜¯ | æ‰€å±ç§‘ç›®ID |
| grade_id | BIGINT | å¦ | é€‚ç”¨å¹´çº§ID |
| parent_id | BIGINT | å¦ | çˆ¶çŸ¥è¯†ç‚¹ID |
| point_level | INT | å¦ | å±‚çº§æ·±åº¦ |
| difficulty | INT | å¦ | éš¾åº¦ç­‰çº§ 1-5 |
| importance | INT | å¦ | é‡è¦ç¨‹åº¦ 1-5 |
| description | TEXT | å¦ | çŸ¥è¯†ç‚¹æè¿° |
| created_at | TIMESTAMP | æ˜¯ | åˆ›å»ºæ—¶é—´ |

#### 4.4.4 çŸ¥è¯†ç‚¹é—­åŒ…è¡¨ (knowledge_point_closure)

| å­—æ®µå | ç±»å‹ | å¿…å¡« | è¯´æ˜ |
|--------|------|------|------|
| parent_id | BIGINT | æ˜¯ | ç¥–å…ˆèŠ‚ç‚¹IDï¼Œè”åˆä¸»é”® |
| point_id | BIGINT | æ˜¯ | åä»£èŠ‚ç‚¹IDï¼Œè”åˆä¸»é”® |
| distance | INT | æ˜¯ | å±‚çº§è·ç¦»ï¼Œ0è¡¨ç¤ºè‡ªèº« |

> è¯­ä¹‰å±‚æ¶æ„å¼ºåˆ¶è¦æ±‚é—­åŒ…è¡¨ï¼Œç”¨äºæ”¯æ’‘çŸ¥è¯†ç‚¹å±‚çº§çš„ä»»æ„å±‚çº§èšåˆæŸ¥è¯¢ã€‚

---

### 4.5 æˆç»©åˆ†æåŸŸ

#### 4.5.1 æˆç»©äº‹å®è¡¨ (fact_score)

| å­—æ®µå | ç±»å‹ | å¿…å¡« | è¯´æ˜ |
|--------|------|------|------|
| score_id | BIGINT | æ˜¯ | æˆç»©IDï¼Œä¸»é”® |
| student_id | BIGINT | æ˜¯ | å­¦ç”ŸID |
| class_id | BIGINT | æ˜¯ | ç­çº§ID |
| subject_id | BIGINT | æ˜¯ | ç§‘ç›®ID |
| exam_id | BIGINT | æ˜¯ | è€ƒè¯•ID |
| score | DECIMAL(5,2) | æ˜¯ | å¾—åˆ† |
| score_level | CHAR(1) | å¦ | æˆç»©ç­‰çº§ï¼šA/B/C/D |
| created_at | TIMESTAMP | æ˜¯ | åˆ›å»ºæ—¶é—´ |

> **æ’åä¸å­˜å‚¨**ï¼š`rank_in_class`ã€`rank_in_grade` é€šè¿‡ QM åº¦é‡ä½¿ç”¨ `RANK() OVER()` çª—å£å‡½æ•°å®æ—¶è®¡ç®—ï¼Œé¿å…æ•°æ®è¿‡æœŸé—®é¢˜ã€‚

> `score_type` ç§»é™¤ï¼Œä½“æµ‹/è‰ºæœ¯æˆç»©åœ¨äºŒæœŸç”±ç‹¬ç«‹äº‹å®è¡¨æ‰¿è½½ã€‚

#### 4.5.2 å­¦ç”Ÿèƒ½åŠ›ç”»åƒèšåˆè¡¨ (agg_student_profile)

| å­—æ®µå | ç±»å‹ | å¿…å¡« | è¯´æ˜ |
|--------|------|------|------|
| profile_id | BIGINT | æ˜¯ | ç”»åƒIDï¼Œä¸»é”® |
| student_id | BIGINT | æ˜¯ | å­¦ç”ŸIDï¼Œå”¯ä¸€ |
| overall_level | VARCHAR(10) | å¦ | ç»¼åˆç­‰çº§ï¼šA/B/C/D |
| score_trend | VARCHAR(20) | å¦ | æˆç»©è¶‹åŠ¿ï¼šrising/stable/declining |
| ai_summary | TEXT | å¦ | AI ç”Ÿæˆçš„å®Œæ•´ç”»åƒï¼ˆå«ä¼˜åŠ£åŠ¿åˆ†æã€å­¦ä¹ é£æ ¼ã€å»ºè®®æ–¹å‘ï¼‰ |
| refreshed_at | TIMESTAMP | å¦ | æœ€ååˆ·æ–°æ—¶é—´ |
| created_at | TIMESTAMP | æ˜¯ | åˆ›å»ºæ—¶é—´ |

> **è®¾è®¡è¯´æ˜**ï¼š
> - å‰ç¼€ `agg_` æ˜ç¡®æ ‡è¯†è¿™æ˜¯ä¸€å¼ ç”± fact æ•°æ®è¡ç”Ÿçš„èšåˆ/ç¼“å­˜è¡¨ï¼Œéä¸»æ•°æ®ç»´åº¦ã€‚
> - åŸè®¾è®¡ä¸­ `strength_subjects`ã€`weakness_subjects`ã€`strength_points`ã€`weakness_points` ç­‰å¤šä¸ª JSON å­—æ®µåˆå¹¶åˆ° `ai_summary` ä¸­ï¼Œç”± AI æŒ‰éœ€ç”Ÿæˆç»“æ„åŒ– JSONï¼Œé¿å…å­—æ®µç¢ç‰‡åŒ–ã€‚
> - `refreshed_at` ç”¨äºåˆ¤æ–­ç”»åƒæ—¶æ•ˆæ€§ï¼Œä¸šåŠ¡å±‚æ ¹æ®æ­¤å­—æ®µå†³å®šæ˜¯å¦è§¦å‘é‡æ–°ç”Ÿæˆã€‚

#### 4.5.3 å­¦ä¹ å»ºè®®è¡¨ (fact_learning_advice)

| å­—æ®µå | ç±»å‹ | å¿…å¡« | è¯´æ˜ |
|--------|------|------|------|
| advice_id | BIGINT | æ˜¯ | å»ºè®®IDï¼Œä¸»é”® |
| student_id | BIGINT | æ˜¯ | å­¦ç”ŸID |
| subject_id | BIGINT | å¦ | ç§‘ç›®ID |
| point_id | BIGINT | å¦ | çŸ¥è¯†ç‚¹ID |
| advice_type | VARCHAR(50) | æ˜¯ | å»ºè®®ç±»å‹ï¼šreview/practice/consolidate/extend |
| advice_level | VARCHAR(20) | æ˜¯ | ç´§æ€¥ç¨‹åº¦ï¼šhigh/medium/low |
| advice_content | TEXT | æ˜¯ | å»ºè®®å†…å®¹ |
| generate_type | VARCHAR(20) | å¦ | ç”Ÿæˆæ–¹å¼ï¼šai/rule |
| status | VARCHAR(20) | æ˜¯ | çŠ¶æ€ï¼špending/done/ignored |
| feedback | VARCHAR(500) | å¦ | è€å¸ˆåé¦ˆ |
| created_at | TIMESTAMP | æ˜¯ | åˆ›å»ºæ—¶é—´ |
| expires_at | TIMESTAMP | å¦ | å»ºè®®æœ‰æ•ˆæœŸ |

> ç§»é™¤ `recommended_resources`ã€`based_on` ä½é¢‘å­—æ®µï¼ŒæŒ‰éœ€åœ¨äºŒæœŸæ‰©å±•ã€‚

---

### 4.6 è€ƒå‹¤åŸŸ

#### 4.6.1 è€ƒå‹¤äº‹å®è¡¨ (fact_attendance)

| å­—æ®µå | ç±»å‹ | å¿…å¡« | è¯´æ˜ |
|--------|------|------|------|
| attendance_id | BIGINT | æ˜¯ | è€ƒå‹¤IDï¼Œä¸»é”® |
| student_id | BIGINT | æ˜¯ | å­¦ç”ŸID |
| class_id | BIGINT | æ˜¯ | ç­çº§ID |
| date_id | VARCHAR(10) | æ˜¯ | æ—¥æœŸID |
| status | VARCHAR(20) | æ˜¯ | çŠ¶æ€ï¼špresent/absent/late/leave_early/sick_leave |
| time_slot | VARCHAR(20) | å¦ | æ—¶æ®µï¼šmorning/afternoon/evening |
| reason | VARCHAR(200) | å¦ | åŸå›  |
| recorded_by | BIGINT | å¦ | è®°å½•äººID |
| created_at | TIMESTAMP | æ˜¯ | åˆ›å»ºæ—¶é—´ |

> ç§»é™¤ `remark` å­—æ®µï¼Œ`reason` å·²è¶³å¤Ÿæ‰¿è½½è¯´æ˜ä¿¡æ¯ã€‚

---

## 5. å…¸å‹ä¸šåŠ¡åœºæ™¯

### 5.1 AI åˆ†ææ ¸å¿ƒé“¾è·¯ï¼ˆä¸€æœŸé‡ç‚¹ï¼‰

```mermaid
graph LR
    A[å­¦ç”Ÿæˆç»©æ•°æ®] --> B[çŸ¥è¯†ç‚¹æŒæ¡åˆ†æ]
    A --> C[æˆç»©è¶‹åŠ¿åˆ†æ]
    A --> D[ç­çº§æ’ååˆ†æ]

    B --> E[ä¼˜åŠ¿çŸ¥è¯†ç‚¹è¯†åˆ«]
    B --> F[è–„å¼±çŸ¥è¯†ç‚¹è¯†åˆ«]

    E --> G[AI ç”»åƒç”Ÿæˆ]
    F --> G

    C --> G
    D --> G

    G --> H[ç”Ÿæˆå­¦ä¹ å»ºè®®]
    G --> I[é¢„è­¦æé†’]
```

**æ•°æ®æ¥æº**ï¼š
- fact_scoreï¼ˆæˆç»©ï¼‰â†’ æ’åé€šè¿‡ QM çª—å£å‡½æ•°å®æ—¶è®¡ç®—
- agg_student_profileï¼ˆAI ç”»åƒç¼“å­˜ï¼‰
- fact_learning_adviceï¼ˆå­¦ä¹ å»ºè®®ï¼‰

### 5.2 å¼‚å¸¸é¢„è­¦æœºåˆ¶

```mermaid
graph TB
    subgraph æ•°æ®é‡‡é›†
        A1[æˆç»©æ•°æ®]
        A2[è€ƒå‹¤æ•°æ®]
    end

    subgraph è§„åˆ™å¼•æ“
        B1[æˆç»©ä¸‹é™é¢„è­¦]
        B2[ç¼ºå‹¤å¼‚å¸¸é¢„è­¦]
    end

    subgraph é¢„è­¦å¤„ç†
        C1[ç”Ÿæˆé¢„è­¦æ¶ˆæ¯]
        C2[æ¨é€ç»™è€å¸ˆ]
        C3[è®°å½•å¤„ç†ç»“æœ]
    end

    A1 --> B1
    A2 --> B2

    B1 --> C1
    B2 --> C1

    C1 --> C2
    C2 --> C3
```

**ä¸€æœŸé¢„è­¦è§„åˆ™**ï¼š

| é¢„è­¦ç±»å‹ | è§„åˆ™ | æ•°æ®æ¥æº |
|---------|------|---------|
| æˆç»©ä¸‹é™ | è¿ç»­ä¸¤æ¬¡è€ƒè¯•æ’åä¸‹é™è¶…è¿‡10å | fact_scoreï¼ˆQM çª—å£å‡½æ•°ï¼‰ |
| ç§‘ç›®è–„å¼± | å•ç§‘æˆç»©ä½äºç­çº§å¹³å‡åˆ†20åˆ†ä»¥ä¸Š | fact_score |
| ç¼ºå‹¤å¼‚å¸¸ | è¿ç»­ç¼ºå‹¤è¶…è¿‡3å¤© | fact_attendance |

> ä½œä¸šå¼‚å¸¸ã€è¡Œä¸ºå¼‚å¸¸ç­‰é¢„è­¦è§„åˆ™åœ¨äºŒæœŸ/ä¸‰æœŸå¼•å…¥å¯¹åº”æ•°æ®è¡¨åè¡¥å……ã€‚

---

## 6. æ•°æ®æƒé™è®¾è®¡

### 6.1 è§’è‰²æƒé™çŸ©é˜µ

| è§’è‰² | æ•°æ®èŒƒå›´ | å¯è§å­¦ç”Ÿ | å¯è§ç§‘ç›® | å¯è§åŠŸèƒ½ |
|------|---------|---------|---------|---------|
| admin | å…¨æ ¡ | å…¨éƒ¨å­¦ç”Ÿ | å…¨éƒ¨ç§‘ç›® | å…¨éƒ¨åŠŸèƒ½ |
| ç­ä¸»ä»» | æœ¬ç­ | æœ¬ç­å­¦ç”Ÿ | å…¨éƒ¨ç§‘ç›® | æœ¬ç­ç›¸å…³åŠŸèƒ½ |
| ç§‘ä»»è€å¸ˆ | ä»»æ•™ç­çº§ | ä»»æ•™ç­çº§å­¦ç”Ÿ | ä»»æ•™ç§‘ç›® | ä»»æ•™ç§‘ç›®ç›¸å…³åŠŸèƒ½ |

### 6.2 æƒé™è¿‡æ»¤å®ç°

åŸºäº fact_teacher_assignment è¡¨å®ç°æ•°æ®æƒé™è¿‡æ»¤ï¼š

```sql
-- ç­ä¸»ä»»æƒé™è¿‡æ»¤
WHERE class_id IN (
    SELECT class_id
    FROM fact_teacher_assignment
    WHERE teacher_id = ? AND is_head_teacher = TRUE AND is_current = TRUE
)

-- ç§‘ä»»è€å¸ˆæƒé™è¿‡æ»¤
WHERE class_id IN (
    SELECT class_id
    FROM fact_teacher_assignment
    WHERE teacher_id = ? AND subject_id = ? AND is_current = TRUE
)
```

---

## 7. è¡¨æ¸…å•æ±‡æ€»

### 7.1 ä¸€æœŸè¡¨æ¸…å•ï¼ˆ16å¼ ï¼‰

| åºå· | åŸŸ | è¡¨å | å‰ç¼€ | ç”¨é€” |
|------|-----|------|------|------|
| 1 | æƒé™ç»„ç»‡ | dim_user | dim | ç”¨æˆ·è´¦æˆ· |
| 2 | | dim_teacher | dim | æ•™å¸ˆä¿¡æ¯ |
| 3 | | fact_teacher_assignment | fact | ä»»è¯¾å…³ç³» |
| 4 | æ—¶é—´ | dim_semester | dim | å­¦æœŸ |
| 5 | | dim_date | dim | æ—¥æœŸ |
| 6 | å­¦ç”Ÿç­çº§ | dim_student | dim | å­¦ç”Ÿä¿¡æ¯ |
| 7 | | dim_grade | dim | å¹´çº§ |
| 8 | | dim_class | dim | ç­çº§ |
| 9 | ç§‘ç›®è€ƒè¯• | dim_subject | dim | ç§‘ç›® |
| 10 | | dim_exam | dim | è€ƒè¯• |
| 11 | | dim_knowledge_point | dim | çŸ¥è¯†ç‚¹ |
| 12 | | knowledge_point_closure | - | çŸ¥è¯†ç‚¹å±‚çº§é—­åŒ… |
| 13 | æˆç»©åˆ†æ | fact_score | fact | æˆç»© |
| 14 | | agg_student_profile | agg | å­¦ç”ŸAIç”»åƒï¼ˆèšåˆ/ç¼“å­˜ï¼‰ |
| 15 | | fact_learning_advice | fact | å­¦ä¹ å»ºè®® |
| 16 | è€ƒå‹¤ | fact_attendance | fact | è€ƒå‹¤ |

### 7.2 å‘½åå‰ç¼€è¯´æ˜

| å‰ç¼€ | å«ä¹‰ | æ•°æ®ç‰¹å¾ |
|------|------|---------|
| `dim_` | ç»´åº¦è¡¨ | ä¸»æ•°æ®ï¼Œæ‰‹å·¥ç»´æŠ¤æˆ–ç³»ç»ŸåŒæ­¥ |
| `fact_` | äº‹å®è¡¨ | ä¸šåŠ¡äº‹ä»¶è®°å½•ï¼ŒæŒç»­å¢é•¿ |
| `agg_` | èšåˆè¡¨ | ç”± fact æ•°æ®è¡ç”Ÿè®¡ç®—ï¼Œå®šæœŸåˆ·æ–° |
| æ— å‰ç¼€ | è¾…åŠ©è¡¨ | é—­åŒ…è¡¨ç­‰ç»“æ„æ€§è¾…åŠ©è¡¨ |

---

## 8. ç‰ˆæœ¬è§„åˆ’

### 8.1 ä¸€æœŸï¼ˆMVPï¼‰â€” 16å¼ è¡¨

èšç„¦ **AI åˆ†ææ ¸å¿ƒé“¾è·¯**ï¼šæˆç»© â†’ çŸ¥è¯†ç‚¹ â†’ ç”»åƒ â†’ å»ºè®®

| æ¨¡å— | è¡¨æ•° | æ ¸å¿ƒåŠŸèƒ½ |
|------|------|---------|
| æƒé™ç®¡ç† | 3å¼  | ç”¨æˆ·ç™»å½•ã€è§’è‰²æƒé™è¿‡æ»¤ |
| æ—¶é—´ç»´åº¦ | 2å¼  | å­¦æœŸç®¡ç†ã€æ—¥æœŸç»´åº¦ |
| å­¦ç”Ÿç­çº§ | 3å¼  | å­¦ç”Ÿ/å¹´çº§/ç­çº§åŸºç¡€æ•°æ® |
| ç§‘ç›®è€ƒè¯• | 4å¼  | ç§‘ç›®ã€è€ƒè¯•ã€çŸ¥è¯†ç‚¹ï¼ˆå«é—­åŒ…ï¼‰ |
| æˆç»©åˆ†æ | 3å¼  | æˆç»©ã€AIç”»åƒã€å­¦ä¹ å»ºè®® |
| è€ƒå‹¤ | 1å¼  | è€ƒå‹¤è®°å½•ã€ç¼ºå‹¤é¢„è­¦ |

### 8.2 äºŒæœŸ â€” +7å¼ è¡¨

å¼•å…¥ **è¯•å·åˆ†æ + ä½œä¸š + ä½“æµ‹è‰ºæœ¯**

| æ–°å¢è¡¨ | ç”¨é€” |
|--------|------|
| fact_paper_analysis | æŒ‰çŸ¥è¯†ç‚¹çš„è¯•å·åˆ†æ |
| fact_wrong_question | é”™é¢˜è®°å½•ä¸å¤ä¹ ç®¡ç† |
| dim_homework | ä½œä¸šç»´åº¦ |
| fact_homework_submission | ä½œä¸šæäº¤ä¸æ‰¹æ”¹ |
| dim_pe_test_item | ä½“æµ‹é¡¹ç›®ç»´åº¦ |
| fact_pe_test_score | ä½“æµ‹æˆç»© |
| fact_art_evaluation | è‰ºæœ¯æŠ€èƒ½è¯„ä»· |

### 8.3 ä¸‰æœŸ â€” +8å¼ è¡¨

å¼•å…¥ **ç»¼åˆç´ è´¨ + ç­çº§ç®¡ç† + é¢˜åº“**

| æ–°å¢è¡¨ | ç”¨é€” |
|--------|------|
| dim_question | é¢˜åº“ï¼ˆå« VECTOR è¯­ä¹‰å‘é‡ï¼‰ |
| fact_student_reward_punish | å¥–æƒ©è®°å½• |
| fact_student_competition | ç«èµ›è·å¥– |
| fact_student_position | ç­å¹²éƒ¨èŒåŠ¡ |
| fact_student_comment | å­¦ç”Ÿè¯„è¯­ï¼ˆAIç”Ÿæˆï¼‰ |
| fact_class_evaluation | ç­çº§è¯„æ¯” |
| fact_home_school_communication | å®¶æ ¡æ²Ÿé€š |
| fact_after_school_service | è¯¾åæœåŠ¡ |

**æ€»è®¡ï¼š31å¼ è¡¨**ï¼ˆä¸€æœŸ16 + äºŒæœŸ7 + ä¸‰æœŸ8ï¼‰

---

## 9. é™„å½•

### 9.1 å­—å…¸å®šä¹‰

```javascript
const dicts = {
    gender: {
        M: 'ç”·',
        F: 'å¥³'
    },
    subject_type: {
        main: 'ä¸»ç§‘',
        minor: 'å‰¯ç§‘'
    },
    exam_type: {
        daily: 'æ—¥å¸¸æµ‹éªŒ',
        unit: 'å•å…ƒæµ‹è¯•',
        midterm: 'æœŸä¸­è€ƒè¯•',
        final: 'æœŸæœ«è€ƒè¯•'
    },
    score_level: {
        A: 'ä¼˜ç§€',
        B: 'è‰¯å¥½',
        C: 'åŠæ ¼',
        D: 'ä¸åŠæ ¼'
    },
    attendance_status: {
        present: 'å‡ºå‹¤',
        absent: 'ç¼ºå‹¤',
        late: 'è¿Ÿåˆ°',
        leave_early: 'æ—©é€€',
        sick_leave: 'ç—…å‡',
        personal_leave: 'äº‹å‡'
    },
    score_trend: {
        rising: 'ä¸Šå‡',
        stable: 'ç¨³å®š',
        declining: 'ä¸‹é™'
    },
    semester_type: {
        first: 'ç¬¬ä¸€å­¦æœŸ',
        second: 'ç¬¬äºŒå­¦æœŸ'
    }
};
```

### 9.2 å‘½åè§„èŒƒ

| ç±»å‹ | è§„èŒƒ | ç¤ºä¾‹ |
|------|------|------|
| ç»´åº¦è¡¨ | `dim_` å‰ç¼€ | dim_student |
| äº‹å®è¡¨ | `fact_` å‰ç¼€ | fact_score |
| èšåˆè¡¨ | `agg_` å‰ç¼€ | agg_student_profile |
| é—­åŒ…è¡¨ | æ— å‰ç¼€ï¼Œè¯­ä¹‰åŒ– | knowledge_point_closure |
| ä¸»é”® | è¡¨åå•æ•°_id | student_id |
| å¤–é”® | å…³è”è¡¨åå•æ•°_id | class_id |
| æ—¶é—´å­—æ®µ | `_at` åç¼€ | created_at |
| æ—¥æœŸå­—æ®µ | `_date` åç¼€ | exam_date |
| çŠ¶æ€å­—æ®µ | `_status` åç¼€ | student_status |
| å¸ƒå°”å­—æ®µ | `is_` å‰ç¼€ | is_current |

---

*æ–‡æ¡£ç‰ˆæœ¬ï¼šv2.0*
*åˆ›å»ºæ—¥æœŸï¼š2026-02-12*
*æœ€åæ›´æ–°ï¼š2026-02-13*
